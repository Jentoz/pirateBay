!function(e){function t(t){for(var r,c,l=t[0],a=t[1],d=t[2],u=0,v=[];u<l.length;u++)c=l[u],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&v.push(o[c][0]),o[c]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);for(s&&s(t);v.length;)v.shift()();return i.push.apply(i,d||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,l=1;l<n.length;l++){var a=n[l];0!==o[a]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={0:0},i=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var l=window.webpackJsonp=window.webpackJsonp||[],a=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var s=a;i.push([43,1]),n()}({43:function(e,t,n){"use strict";n.r(t);n(44),n(66),n(69),n(71),n(72),n(73),n(74);var r=n(18),o=n.n(r),i=n(19),c=!1,l=[],a="",d="";function s(e){return e.map((function(e){var t,n,r=document.createElement("div");return r.classList.add("hotel"),r.innerHTML='<div class="hotel__imgbox">\n                            <svg class="hotel__icon" width="80" height="80" viewBox="0 0 24 24" fill="#CFA55B"><circle cx="12" cy="12" r="3.2"/><path d="M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>\n                            <img class="hotel__img" src="'.concat(e.images[1],'">\n                            <div class="hotel__cover"></div>\n                            <div class="hotel__stars">').concat(function(e){for(var t="",n=0;n<e;n++)t+='<svg width="18" height="18" viewBox="0 0 24 24" fill="#CFA55B"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/><path d="M0 0h24v24H0z" fill="none"/></svg>';return t}(e.stars),'</div>\n                          </div>\n                          <div class="hotel__content">\n                            <div>\n                              <div class="hotel__title">').concat(e.name,'</div>\n                              <div class="hotel__description">').concat(e.city,", ").concat(e.country,'</div>\n                            </div>\n                            <div>\n                              <div class="hotel__flex">\n                                <div class="hotel__date">From: ').concat(new Date(e.date_start).toLocaleDateString(),'</div>\n                                <div class="hotel__date">To: ').concat(new Date(e.date_end).toLocaleDateString(),'</div>\n                              </div>\n                              <div class="hotel__flex">\n                                <div class="hotel__price">EUR ').concat(e.price,'</div>\n                              </div>\n                              <div class="hotel__flex">\n                                <div class="hotel__rating">\n                                  <button class="hotel__ratingbox">').concat(Math.floor(e.rating),'</button>\n                                  <div class="hotel__text">').concat((t=e.rating,n=Math.floor(t),0==n?"None":1==n?"Poor":2==n?"Unsatisfactory":3==n?"Satisfactory":4==n?"Good":5==n?"Excellent":void 0),'</div>\n                                </div>\n                                <button class="hotel__button" data-id="').concat(e.id,'">Reviews</button>\n                              </div>\n                            </div>\n                            <a class="hotel__link" href=""></a>\n                          </div>'),r}))}function u(e){document.querySelectorAll(".hotel").forEach((function(e){return e.remove()})),s(e).forEach((function(e){document.querySelector(".grid").appendChild(e),e.querySelector("img").addEventListener("load",(function(){this.nextElementSibling.classList.add("hotel__cover--active"),this.classList.add("hotel__img--active")})),e.querySelector("img").addEventListener("error",(function(){this.remove()}))}))}function v(e){(function(e){return e.map((function(e){var t=document.createElement("div");return t.classList.add("review"),t.innerHTML='<div class="">\n                            <div class="review__header">\n                              <div class="review__name">'.concat(e.name,"</div>\n                              ").concat(e.positive?'<svg width="24" height="24" viewBox="0 0 24 24" fill="#CFA55B"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2z"/></svg>':'<svg width="24" height="24" viewBox="0 0 24 24" fill="#FF6B6B"><path fill="none" d="M0 0h24v24H0z"/><path d="M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z"/></svg>','\n                            </div>\n                            <div class="review__comment">').concat(e.comment,"</div>\n                          </div>"),t}))})(e).forEach((function(e){document.querySelector(".modal__content").appendChild(e)}))}function f(){o.a.get("http://fake-hotel-api.herokuapp.com/api/hotels",{params:{no_error:!0,min_stars:3,count:30}}).then((function(e){return e.data})).then((function(e){e.forEach((function(e){return l.push(e)}));var t=e;""!=a&&(t=t.filter((function(e){return e.stars==a}))),1==d&&(t=t.filter((function(e){return e.price<300}))),2==d&&(t=t.filter((function(e){return e.price>300&&e.price<700}))),3==d&&(t=t.filter((function(e){return e.price>700}))),function(e){s(e).forEach((function(e){document.querySelector(".grid").appendChild(e),e.querySelector("img").addEventListener("load",(function(){this.nextElementSibling.classList.add("hotel__cover--active"),this.classList.add("hotel__img--active")})),e.querySelector("img").addEventListener("error",(function(){this.remove()}))})),c=!0}(t)})).catch((function(e){return console.log(e)}))}document.querySelector(".visitors__number").innerHTML=Math.round(20*Math.random()),f(),document.addEventListener("scroll",(function(){var e=window.pageYOffset+window.innerHeight,t=document.querySelector(".grid").offsetTop+document.querySelector(".grid").offsetHeight-500;1==c&&e>t&&(c=!1,f())})),document.querySelector("#starSelect").addEventListener("change",(function(){a=document.querySelector("#starSelect").value;var e=l;""!=a&&(e=e.filter((function(e){return e.stars==a})),""!=d&&(1==d&&(e=e.filter((function(e){return e.price<300}))),2==d&&(e=e.filter((function(e){return e.price>300&&e.price<700}))),3==d&&(e=e.filter((function(e){return e.price>700})))),u(e))})),document.querySelector("#priceSelect").addEventListener("change",(function(){d=document.querySelector("#priceSelect").value;var e=l;""!=d&&(""!=a&&(e=e.filter((function(e){return e.stars==a}))),1==d&&(e=e.filter((function(e){return e.price<300}))),2==d&&(e=e.filter((function(e){return e.price>300&&e.price<700}))),3==d&&(e=e.filter((function(e){return e.price>700}))),u(e))})),document.addEventListener("click",(function(e){if(e.target.matches(".hotel__button")){var t=document.querySelector(".modal");t.classList.toggle("modal--active"),Object(i.disableBodyScroll)(t),o.a.get("http://fake-hotel-api.herokuapp.com/api/reviews",{params:{hotel_id:e.target.dataset.id}}).then((function(e){return e.data})).then((function(e){if(document.querySelector(".lds-ring").classList.add("lds-ring--hidden"),e.length>0)v(e);else{var t=document.createElement("div");t.classList.add("review"),t.textContent="There are no reviews for this hotel, please come back later",document.querySelector(".modal__content").appendChild(t)}})).catch((function(e){return console.log(e)}))}})),document.querySelector(".modal__close").addEventListener("click",(function(){var e=document.querySelector(".modal");e.classList.toggle("modal--active"),Object(i.enableBodyScroll)(e),document.querySelectorAll(".review").forEach((function(e){return e.remove()})),document.querySelector(".lds-ring").classList.remove("lds-ring--hidden")}))}});
//# sourceMappingURL=app.402313a2.js.map